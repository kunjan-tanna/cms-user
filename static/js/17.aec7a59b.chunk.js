(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[17],{653:function(e,t,a){"use strict";a.r(t);var n=a(128),r=a(11),o=a(12),l=a(14),c=a(13),s=a(10),i=a(0),u=a.n(i),m=a(642),d=a(643),f=a(644),g=a(645),h=a(646),b=a(647),p=a(512),E=a(513),O=a(514),j=a(648),D=a(506),v=a(263),y=a(517),S=a(526),I=a(527),C=a(22),T=a(558),N=a(47),k=(a(273),a(274),a(541)),w=a(561),A=a.n(w),M=a(569),P=a.n(M),x=a(27),R=a(572),B=a.n(R),Y=(a(127),a(528)),_=a.n(Y),F={control:function(e){return Object(s.a)(Object(s.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){var a=t.data,n=t.isDisabled,r=t.isFocused,o=t.isSelected,l=a.color?B()(a.color):"#7367f0";return Object(s.a)(Object(s.a)({},e),{},{backgroundColor:n?null:o?a.color:r?l.alpha(.1).css():null,color:n?"#ccc":o?B.a.contrast(l,"white")>2?"white":"black":a.color,cursor:n?"not-allowed":"default",":active":Object(s.a)(Object(s.a)({},e[":active"]),{},{backgroundColor:!n&&(o?a.color:"#7367f0")})})}},G=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleInput=function(e){e.persist(),o.setState((function(t){return{formData:Object(s.a)(Object(s.a)({},t.formData),{},Object(n.a)({},e.target.name,e.target.value))}}),(function(){return console.log("Name Input",o.state.formData)}))},o.handleavtar=function(e){e.persist(),o.setState((function(t){return{formData:Object(s.a)(Object(s.a)({},t.formData),{},Object(n.a)({},e.target.name,e.target.files[0]))}}))},o.handleCKEditor=function(e,t,a){console.log("event",e);var n=t.getData();o.setState((function(e){return{formData:Object(s.a)(Object(s.a)({},e.formData),{},{content:n})}}),console.log("Content",o.state.formData))},o.handleSelect=function(e,t){o.setState((function(a){return{formData:Object(s.a)(Object(s.a)({},a.formData),{},Object(n.a)({},e,t.value))}}))},o.handleCreatableSelectTags=function(e,t){var a=t&&t.map((function(e){return e.value}));o.setState((function(t){return{formData:Object(s.a)(Object(s.a)({},t.formData),{},Object(n.a)({},e,a))}}))},o.handleFormSubmit=function(){o.props.dispatch(y.a(o.state.formData)).then((function(e){console.log("ADD POST Data",e),e.data?(N.b.success("Add Post Successfully",{position:N.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){x.a.push("/blog")}),3e3)):N.b.error("Something went wrong",{position:N.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){N.b.error("Something went wrong",{position:N.b.POSITION.BOTTOM_RIGHT})}))},o.handleReset=function(){o.setState({formData:{}})},o.state={categories:[],tags:[],date:(new Date).toLocaleDateString(),formData:{},userdata:o.props.userInfo,erroMsg:!1},console.log("Dateee-------------",o.state.date),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(S.a()),this.props.dispatch(I.a()),this.setState((function(t){var a;return{formData:Object(s.a)(Object(s.a)({},t.formData),{},(a={},Object(n.a)(a,"authorBy",e.state.userdata._id),Object(n.a)(a,"publishedAt",e.state.date),a))}}))}},{key:"render",value:function(){var e=this,t=this.state.userdata.firstName,a=this.state.userdata.lastName;return u.a.createElement(m.a,null,u.a.createElement(d.a,{sm:"12"},u.a.createElement(f.a,null,u.a.createElement(g.a,null,u.a.createElement(h.a,null,"Add Blog")),u.a.createElement(b.a,{style:{height:"1000px"}},u.a.createElement(d.a,{sm:"12"},u.a.createElement(p.a,{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit()}},u.a.createElement(m.a,null,u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"title"},"Title"),u.a.createElement(j.a,{type:"text",id:"title",name:"title",placeholder:"Title Name",onChange:this.handleInput}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"description"},"Description"),u.a.createElement(j.a,{type:"textarea",name:"description",id:"description",rows:"3",cols:"3",required:!0,placeholder:"Message",onChange:this.handleInput}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"content"},"Content"),u.a.createElement(A.a,{editor:P.a,onInit:function(e){},onChange:this.handleCKEditor,cloudServices:{tokenUrl:"https://example.com/cs-token-endpoint",uploadUrl:"https://your-organization-id.cke-cs.com/easyimage/upload/"},toolbar:"imageUpload"}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"publishedAt"},"PublishedAt"),u.a.createElement(j.a,{type:"date",name:"publishedAt",id:"publishedAt",disabled:!0,defaultValue:_()(this.state.date).format("YYYY-MM-DD")?_()(this.state.date).format("YYYY-MM-DD"):"",placeholder:"PublishAt"}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"image"},"Image"),u.a.createElement(D.a,{type:"file",id:"image",name:"image",onChange:this.handleavtar}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"Categories"},"Categories"),u.a.createElement(k.a,{isClearable:!1,styles:F,options:this.state.categories,className:"React",classNamePrefix:"select",id:"categoryId",name:"categoryId",onChange:function(t){return e.handleSelect("categoryId",t)}}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"Tags"},"Tags"),u.a.createElement(T.a,{isMulti:!0,isClearable:!0,options:this.state.tags,className:"React",classNamePrefix:"select",id:"tagId",required:!0,name:"tagId",onChange:function(t){return e.handleCreatableSelectTags("tagId",t)}}))),u.a.createElement(d.a,{sm:"12"},u.a.createElement(E.a,null,u.a.createElement(O.a,{for:"authorName"},"Author By"),u.a.createElement(j.a,{type:"disabled",disabled:!0,value:t+" "+a,id:"authorBy",name:"authorBy"}))),u.a.createElement(d.a,{className:"d-flex justify-content-end flex-wrap mt-2",sm:"12"},u.a.createElement(v.a.Ripple,{className:"mr-1",color:"primary",type:"submit"},"Add Post"),u.a.createElement(N.a,null),u.a.createElement(v.a.Ripple,{color:"flat-warning",onClick:function(){return e.handleReset()},type:"button"},"Reset")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(e.categories&&e.categories.length&&e.categories!==t.categories){var n=e.categories.map((function(e){return{label:e.categoryName,value:e._id,color:"#7367f0"}}));Object.assign(a,{categories:n})}if(e.tags&&e.tags.length&&e.tags!==t.tags){var r=e.tags.map((function(e){return{label:e.tagName,value:e._id}}));Object.assign(a,{tags:r})}return 0!==Object.keys(a).length?a:null}}]),a}(u.a.Component);t.default=Object(C.b)((function(e){return{categories:e.global.categories,tags:e.global.tags,userInfo:e.auth.login.userInfo}}))(G)}}]);
//# sourceMappingURL=17.aec7a59b.chunk.js.map