(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[13],{517:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(508),r=n.n(a),c=n(509),o=n(127),s=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.tagId,(c=new FormData).append("title",e.title),c.append("description",e.description),c.append("content",e.content),c.append("publishedAt",e.publishedAt),c.append("categoryId",e.categoryId),c.append("authorBy",e.authorBy),c.append("image",e.image),s=0;s<a.length;s++)c.append("tagId[]",a[s]);return t.next=12,o.a.post("create/post",c);case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/post");case 2:return(n=e.sent)&&t({type:"POST",payload:n.data}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/get/post/".concat(e));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s,u,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c=t.tagId,(s=new FormData).append("postId",t._id),s.append("title",t.title),s.append("description",t.description),s.append("content",t.content),s.append("publishedAt",t.publishedAt),s.append("categoryId",t.categoryId),s.append("likes",t.likes),s.append("image",t.image),s.append("authorBy",t.authorBy),s.append("status",t.status),u=0;u<c.length;u++)s.append("tagId[]",c[u]);return n.next=15,o.a.put("edit/post/".concat(e),s);case 15:return l=n.sent,n.abrupt("return",l);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ADD LIKED",e),t.next=3,o.a.put("edit/like",e);case 3:return a=t.sent,console.log("Res",a),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("/delete/post/".concat(e));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},526:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(508),r=n.n(a),c=n(509),o=n(127),s=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/category");case 2:return(n=e.sent)&&t({type:"CATEGORY",payload:n.data}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},527:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(508),r=n.n(a),c=n(509),o=n(127),s=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/tag");case 2:return(n=e.sent)&&t({type:"TAG",payload:n.data}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},575:function(e,t,n){"use strict";n.r(t);var a=n(128),r=n(10),c=n(11),o=n(12),s=n(14),u=n(13),l=n(0),i=n.n(l),p=n(127),f=n(642),m=n(643),d=n(644),h=n(645),b=n(646),g=n(263),v=n(647),y=n(648),E=n(179),j=(n(2),n(526)),O=n(517),k=n(527),w=n(22),x=n(131),I=n(27),N=(n(577),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).handleSelect=function(e,t){o.setState({selectedValue:t.value},(function(){console.log("---HANDLE--",o.state.selectedValue,t.value)}))},o.handleCreatableSelectTags=function(e,t){var n=t&&t.map((function(e){return e.value}));o.setState((function(t){return{formData:Object(r.a)(Object(r.a)({},t.formData),{},Object(a.a)({},e,n))}}),(function(){console.log("---TAGS--",o.state.formData,n)}))},o.updateSearchQuery=function(e){console.log("aabbababba",e),o.setState({searchVal:e})},o.likePost=function(e){console.log("POSTIDDD",e);var t={postId:e};p.a.interceptors.request.use((function(e){var t="Bearer ".concat(o.state.token);return e.headers.Authorization=t,e})),o.props.dispatch(O.e(t)).then((function(e){console.log("LIKESSSSS",e);var t=e.data;o.setState({abc:t},(function(){return console.log("DAATTATdjvbasjff",o.state.abc)}))}))},o.state={categories:[],tags:[],counter:0,rowData:[],abc:[],searchVal:"",sortType:"asc",color:"white",selectedValue:"",token:o.props.token},console.log("PROPS-------------",o.state.token),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(j.a()),this.props.dispatch(k.a()),this.props.dispatch(O.c()).then((function(t){console.log("get POST----",t);var n=t.data.filter((function(e){if(e.status&&1==e.status)return e}));e.setState({rowData:n})}))}},{key:"render",value:function(){var e=this;console.log("ABCEEEEE",this.state.abc);var t=this.state.rowData.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e.state.searchVal.toLowerCase())})),n=t&&t.map((function(t){return console.log("Itemmsddasda",t),t._id===e.state.abc._id?e.state.abc:t}));return i.a.createElement(f.a,{className:"app-user-list"},i.a.createElement(m.a,{sm:"12"},i.a.createElement(d.a,null,i.a.createElement(h.a,null,i.a.createElement(b.a,null,"Blogs"),i.a.createElement("div",{className:"d-flex flex-wrap flot-right"},i.a.createElement(g.a.Ripple,{color:"primary",outline:!0,onClick:function(){return e.props.history.push("/add/post")}},"Add Blog"))),i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex flex-wrap justify-content-between mb-1"},i.a.createElement("div",{className:"table-input mr-1"}),i.a.createElement("div",{className:"export-btn"},i.a.createElement(y.a,{placeholder:"search...",onChange:function(t){return e.updateSearchQuery(t.target.value)},value:this.state.value})))))),n&&n.map((function(t,n){var a=t.authorBy.firstName+" "+t.authorBy.lastName;t.categoryId.categoryName;return i.a.createElement(m.a,{lg:"4",sm:"12",key:n},i.a.createElement(d.a,null,i.a.createElement(h.a,{className:"justify-content-between"},i.a.createElement("div",{className:"card-heading"},i.a.createElement(b.a,{className:"w-100"},t.title),i.a.createElement("p",null,t.description))),i.a.createElement(v.a,null,i.a.createElement("img",{src:x.a.baseURL+"/"+t.image,alt:"Social Card",className:"img-fluid"}),i.a.createElement("div",{className:"d-flex justify-content-start mt-2"},i.a.createElement("div",{className:"icon-like mr-2"},i.a.createElement(E.a,{className:"success",type:"button",onClick:function(){e.likePost(t._id)}}),i.a.createElement("span",{className:"align-middle ml-50"},t.likes.length," likes"))),i.a.createElement("hr",null),i.a.createElement("div",null,i.a.createElement("i",null,"Author By:\xa0\xa0"),i.a.createElement("span",{className:"text-success"},a)),i.a.createElement("hr",null),i.a.createElement(m.a,{className:"d-flex justify-content-center flex-wrap",sm:"12"},i.a.createElement(g.a.Ripple,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return I.a.push({pathname:"/view/blog",state:{postId:t?t._id:""}})}},"Read More")))))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if(e.categories&&e.categories.length&&e.categories!==t.categories){var a=e.categories.map((function(e){return{label:e.categoryName,value:e._id,color:"#7367f0"}}));Object.assign(n,{categories:a})}if(e.tags&&e.tags.length&&e.tags!==t.tags){var r=e.tags.map((function(e){return{label:e.tagName,value:e._id}}));Object.assign(n,{tags:r})}return 0!==Object.keys(n).length?n:null}}]),n}(i.a.Component));t.default=Object(w.b)((function(e){return{categories:e.global.categories,tags:e.global.tags,token:e.auth.login.accessToken}}))(N)},577:function(e,t,n){e.exports=n.p+"static/media/content-img-4.c8c9986d.jpg"},655:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n(12),s=n(14),u=n(13),l=n(130),i=n(45),p=n(27),f=n(22),m=(n(275),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"fallback-spinner"},r.a.createElement("div",{className:"loading component-loader"},r.a.createElement("div",{className:"effect-1 effects"}),r.a.createElement("div",{className:"effect-2 effects"}),r.a.createElement("div",{className:"effect-3 effects"})))}}]),n}(r.a.Component)),d=n(132),h=(n(575),function(e){var t=e.component,n=e.fullLayout,c=e.userInfo,o=Object(l.a)(e,["component","fullLayout","userInfo"]);return r.a.createElement(i.b,Object.assign({},o,{render:function(e){return console.log("pppp",c),c?c.role&&"user"===c.role?r.a.createElement(d.a.Consumer,null,(function(c){var o=!0===n?c.fullLayout:"horizontal"===c.state.activeLayout?c.horizontalLayout:c.VerticalLayout;return r.a.createElement(o,Object.assign({},e,{permission:e.user}),r.a.createElement(a.Suspense,{fallback:r.a.createElement(m,null)},r.a.createElement(t,e)))})):r.a.createElement("h4",null,"You're not admin"):r.a.createElement(i.a,{to:"/pages/login"})}}))}),b=Object(a.lazy)((function(){return n.e(16).then(n.bind(null,649))})),g=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(12),n.e(15)]).then(n.bind(null,650))})),v=Object(a.lazy)((function(){return n.e(14).then(n.bind(null,544))})),y=Object(a.lazy)((function(){return Promise.resolve().then(n.bind(null,575))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(11)]).then(n.bind(null,656))})),j=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(17)]).then(n.bind(null,653))})),O=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,658))})),k=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,657))})),w=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,659))})),x=Object(a.lazy)((function(){return n.e(9).then(n.bind(null,660))})),I=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(18)]).then(n.bind(null,654))})),N=function(e){return{user:e.auth.login.userRole,userInfo:e.auth.login.userInfo,token:e.auth.login.accessToken}},S=Object(f.b)(N)((function(e){var t=e.component,n=e.fullLayout,c=(e.permission,e.user,Object(l.a)(e,["component","fullLayout","permission","user"]));return r.a.createElement(i.b,Object.assign({},c,{render:function(e){return console.log("Propssssssssss",e),r.a.createElement(d.a.Consumer,null,(function(c){var o=!0===n?c.fullLayout:"horizontal"===c.state.activeLayout?c.horizontalLayout:c.VerticalLayout;return r.a.createElement(o,Object.assign({},e,{permission:e.user}),r.a.createElement(a.Suspense,{fallback:r.a.createElement(m,null)},r.a.createElement(t,e)))}))}}))})),L=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return console.log("PROPS",this.props),r.a.createElement(i.c,{history:p.a},r.a.createElement(i.d,null,r.a.createElement(h,{userInfo:this.props.userInfo,exact:!0,path:"/user/dashboard",component:b}),r.a.createElement(h,{userInfo:this.props.userInfo,exact:!0,path:"/post",component:g}),r.a.createElement(h,{userInfo:this.props.userInfo,exact:!0,path:"/edit/post",component:I}),r.a.createElement(h,{userInfo:this.props.userInfo,exact:!0,path:"/add/comment",component:v}),r.a.createElement(h,{userInfo:this.props.userInfo,path:"/blog",component:y}),r.a.createElement(h,{userInfo:this.props.userInfo,path:"/view/blog",component:E}),r.a.createElement(h,{userInfo:this.props.userInfo,exact:!0,path:"/add/post",component:j}),r.a.createElement(S,{path:"/pages/login",component:O,fullLayout:!0}),r.a.createElement(S,{path:"/pages/register",component:k,fullLayout:!0}),r.a.createElement(S,{path:"/pages/forgot-password",component:w,fullLayout:!0}),r.a.createElement(S,{path:"/resetpassword",component:x,fullLayout:!0})))}}]),n}(r.a.Component),D=Object(f.b)(N)(L),C=n(263),z=n(641);C.a.Ripple=function(e){var t=e.rippleColor,n=e.during,a=e.block,c=Object(l.a)(e,["rippleColor","during","block"]);return r.a.createElement(z.a,{color:t||"rgba(255, 255, 255, .5)",during:n,className:"".concat(a?"d-block":"")},r.a.createElement(C.a,c))};n(578),n(579),t.default=function(e){return r.a.createElement(D,null)}}}]);
//# sourceMappingURL=13.72a3d1ec.chunk.js.map