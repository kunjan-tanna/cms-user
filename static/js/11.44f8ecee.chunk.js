(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[11],{544:function(e,t,a){"use strict";a.r(t);var n=a(128),r=a(10),s=a(11),l=a(12),c=a(14),o=a(13),m=a(0),i=a.n(m),u=a(642),d=a(643),p=a(644),f=a(647),E=a(512),h=a(513),g=a(514),b=a(648),v=a(263),N=a(22),I=a(47),O=(a(273),a(274),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).handleInput=function(e){e.persist(),l.setState((function(t){return{formData:Object(r.a)(Object(r.a)({},t.formData),{},Object(n.a)({},e.target.name,e.target.value))}}),(function(){return console.log("Name Input",l.state.formData)}))},l.handleFormSubmit=function(){console.log("FORMDATA",l.state.formdata);var e={userId:l.state.userdata._id,commentName:l.state.formData.commentName,postId:l.state.postId};console.log("OBJEEE",e),l.props.addComment(e),l.props.toggleModal()},l.handleReset=function(){l.setState({formData:{}})},l.state={formData:{},erroMsg:!1,userdata:l.props.userInfo,postId:l.props.postId},console.log("POSTID",l.state.postId),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.userdata.firstName,a=this.state.userdata.lastName;return i.a.createElement(u.a,null,i.a.createElement(d.a,{sm:"12"},i.a.createElement(p.a,null,i.a.createElement(f.a,{className:"pt-2"},i.a.createElement(d.a,{sm:"12"},i.a.createElement(E.a,{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit()}},i.a.createElement(u.a,null,i.a.createElement(d.a,{sm:"12"},i.a.createElement(h.a,null,i.a.createElement(g.a,{for:"commentName"},"Username"),i.a.createElement(b.a,{type:"disabled",disabled:!0,value:t+" "+a,id:"userId",name:"userId",placeholder:"Username"}))),i.a.createElement(d.a,{sm:"12"},i.a.createElement(h.a,null,i.a.createElement(g.a,{for:"description"},"Comments"),i.a.createElement(b.a,{type:"textarea",name:"commentName",id:"commentName",rows:"3",cols:"3",required:!0,placeholder:"What are you thinking about?",onChange:this.handleInput}))),i.a.createElement(d.a,{className:"d-flex justify-content-end flex-wrap mt-2",sm:"12"},i.a.createElement(v.a.Ripple,{className:"mr-1",color:"primary",type:"submit"},"Add Comment"),i.a.createElement(I.a,null),i.a.createElement(v.a.Ripple,{color:"flat-warning",onClick:function(){return e.handleReset()},type:"button"},"Reset")))))))))}}]),a}(i.a.Component));t.default=Object(N.b)((function(e){return{}}))(O)},608:function(e,t){},621:function(e,t,a){},622:function(e,t,a){},656:function(e,t,a){"use strict";a.r(t);var n=a(128),r=a(10),s=a(11),l=a(12),c=a(14),o=a(13),m=a(0),i=a.n(m),u=a(644),d=a(647),p=a(642),f=a(643),E=a(645),h=a(646),g=a(263),b=a(503),v=a(512),N=a(513),I=a(648),O=a(514),y=a(661),w=a(651),D=a(652),x=(a(2),a(174)),M=a(517),C=a(508),j=a.n(C),R=a(509),S=a(127),k=function(){return function(){var e=Object(R.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/comment");case 2:return(a=e.sent)&&t({type:"COMMENTS",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=a(526),A=a(527),Y=a(544),U=(i.a.Component,a(22)),P=(a(27),a(584)),_=a.n(P),F=a(528),B=a.n(F),z=(a(621),a(47)),G=a(131),H=(a(273),a(622),a(274),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var l,c;return Object(s.a)(this,a),(c=t.call(this,e)).addTag=function(){var e=[];c.state.tags.map((function(t){c.state.selectedOption.tagId.map((function(a){a==t.value&&e.push(t)}))})),c.setState({value:e})},c.toggleModal=function(){c.setState((function(e){return{showModal:!e.showModal}}))},c.handleInput=function(e){e.persist(),c.setState((function(t){return{rpData:Object(r.a)(Object(r.a)({},t.rpData),{},Object(n.a)({},e.target.name,e.target.value))}}))},c.replyComment=function(){var e=c.state.rowData&&c.state.rowData.map((function(e){return e._id}));console.log("CommentIds",e);var t,a={userId:c.state.userdata._id,rpcommentName:c.state.rpData.rpcommentName,postId:c.state.postId,commentId:e};c.props.dispatch((t=a,function(){var e=Object(R.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("create/rpcomment",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){console.log("RRRRRR",t),t.data?c.props.dispatch(function(){var e=Object(R.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/rpcomment");case 2:return(a=e.sent)&&t({type:"RPCOMMENTS",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var a=t.data.filter((function(t){if(console.log("ITEEMMMS",t.commentId),console.log("Comment ID",c.state.rowData._id),t.postId===c.state.postId&&t.commentId==e)return t}));console.log("ROW data+++++++++++++++",a),c.setState({data:a})})):z.b.error("Add Catetgory isn't Successfully",{position:z.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){z.b.error("Add Comments isn't Successfully",{position:z.b.POSITION.BOTTOM_RIGHT})}))},c.addComment=function(e){var t;c.props.dispatch((t=e,function(){var e=Object(R.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("create/comment",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){e.data&&c.props.dispatch(k()).then((function(e){var t=e.data.filter((function(e){if(e.postId===c.state.postId)return e}));c.setState({rowData:t})}))})).catch((function(e){z.b.error("Add Comments isn't Successfully",{position:z.b.POSITION.BOTTOM_RIGHT})}))},c.state=(l={postId:c.props.location&&c.props.location.state&&c.props.location.state.postId?c.props.location.state.postId:"",categories:[],tags:[],likeData:[],data:[],rpData:{},userdata:c.props.userInfo,showModal:!1,rowData:[],liked:!1},Object(n.a)(l,"data",{}),Object(n.a)(l,"selectedOption",[]),l),console.log("--this.props.commentId--",c.props),c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(T.a()),this.props.dispatch(A.a()),this.props.dispatch(M.d(this.state.postId)).then((function(t){e.setState({selectedOption:t.data}),e.addTag()})),this.props.dispatch(k()).then((function(t){var a=t.data.filter((function(t){if(t.postId===e.state.postId)return t}));e.setState({rowData:a})}))}},{key:"render",value:function(){var e=this,t=this.state.userdata.firstName,a=this.state.userdata.lastName,n=this.state.categories&&this.state.categories.filter((function(t){return t.value===e.state.selectedOption.categoryId})),r=n&&n.map((function(e){return e.label})),s=this.state.value,l=s&&s.map((function(e){return e.label}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{className:"overflow-hidden app-ecommerce-details"},i.a.createElement(d.a,{className:"pb-0"},i.a.createElement(p.a,{className:"mb-1 mt-2"},i.a.createElement(f.a,{className:"d-flex align-items-center justify-content-center mb-2 mb-md-0",sm:"12",md:"5"},i.a.createElement("img",{src:G.a.baseURL+"/"+this.state.selectedOption.image,alt:"Post Image",height:"250",width:"250"})),i.a.createElement(f.a,{md:"7",sm:"12"},i.a.createElement("h3",null,this.state.selectedOption.title),i.a.createElement("div",{className:"d-flex flex-wrap"},i.a.createElement("h3",{className:"text-primary"},this.state.selectedOption.description)),i.a.createElement("hr",null),i.a.createElement("span",null,_()(this.state.selectedOption.content)),i.a.createElement("hr",null),i.a.createElement(p.a,null,i.a.createElement(f.a,null,i.a.createElement("div",null,"Categories"),i.a.createElement("span",null,r)),i.a.createElement(f.a,null,i.a.createElement("div",null,"Tags"),i.a.createElement("span",null,l))),i.a.createElement("hr",null),i.a.createElement("p",{className:"my-50"},i.a.createElement("span",null,"Published At"),i.a.createElement("span",{className:"mx-50"},"-"),i.a.createElement("span",null,B()(this.state.selectedOption.publishedAt).format("YYYY-MM-DD")))))),i.a.createElement(p.a,{className:"item-features"},i.a.createElement(f.a,null,i.a.createElement(E.a,null,i.a.createElement(h.a,null,i.a.createElement(x.a,{size:20}),"\xa0Comments"),i.a.createElement("div",{className:"d-flex flex-wrap"},i.a.createElement(g.a.Ripple,{color:"primary",outline:!0,onClick:this.toggleModal},"Add Comments")))),i.a.createElement(f.a,{sm:"12"},this.state.rowData&&this.state.rowData.map((function(n,r){var s=n.userId.firstName+" "+n.userId.lastName;return i.a.createElement(p.a,{key:r},i.a.createElement(f.a,{sm:"12"},i.a.createElement(u.a,null,i.a.createElement(d.a,null,i.a.createElement(p.a,{className:"mx-0",col:"12"},i.a.createElement(f.a,{className:"pl-0",sm:"12"},i.a.createElement(b.a,{className:"d-sm-flex d-block"},i.a.createElement(b.a,{className:"mt-md-1 mt-0",left:!0},i.a.createElement("img",{className:"rounded-circle mt-25",src:G.a.baseURL+"/"+n.userId.avtar,height:"28",width:"28",alt:"User Image"})),i.a.createElement(b.a,{body:!0},i.a.createElement(p.a,null,i.a.createElement(f.a,{sm:"12",className:"mt-2"},i.a.createElement("div",{className:"users-page-view-table"},i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},"UserName"),i.a.createElement("div",null,i.a.createElement("span",{className:"text-success"},s))),i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},n.commentName)),i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},"Created At:"),i.a.createElement("div",{className:"text-truncate"},i.a.createElement("span",null,B()(n.createdAt).format("YYYY-MM-DD")))),i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},i.a.createElement(g.a.Ripple,{size:"sm",color:"primary",type:"submit"},"Reply to"))),i.a.createElement(p.a,null,i.a.createElement(v.a,{onSubmit:function(t){t.preventDefault(),e.replyComment()}},i.a.createElement(f.a,{sm:"12"},i.a.createElement(p.a,null,i.a.createElement(f.a,{sm:"12"},i.a.createElement(N.a,null,i.a.createElement(I.a,{type:"disabled",disabled:!0,value:t+" "+a,id:"userId",name:"userId",placeholder:"Username"}))),i.a.createElement(f.a,{sm:"12"},i.a.createElement(N.a,null,i.a.createElement(I.a,{type:"textarea",rows:"3",name:"rpcommentName",placeholder:"Reply a Comment",id:"add-comment",onChange:e.handleInput}))),i.a.createElement(f.a,{sm:"12"},i.a.createElement(N.a,null,i.a.createElement(g.a.Ripple,{size:"sm",color:"primary",type:"submit"},"Post Comment")))))))))),i.a.createElement("hr",null),i.a.createElement(O.a,null,"Reply Section"),e.state.Data&&e.state.Data.map((function(e,t){var a=e.userId.firstName+" "+e.userId.lastName;return i.a.createElement(b.a,{className:"pb-2",key:t},i.a.createElement(b.a,{left:!0,href:"#"},i.a.createElement("img",{className:"rounded-circle mt-2",src:G.a.baseURL+"/"+e.userId.avtar,height:"28",width:"28",alt:"User Image"})),i.a.createElement(b.a,{body:!0},i.a.createElement(p.a,null,i.a.createElement(f.a,{sm:"12",className:"mt-2"},i.a.createElement("div",{className:"users-page-view-table"},i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},"UserName"),i.a.createElement("div",null,i.a.createElement("span",{className:"text-success"},a))),i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},e.rpcommentName)),i.a.createElement("div",{className:"d-flex user-info"},i.a.createElement("div",{className:"user-info-title font-weight-bold"},"Created At:"),i.a.createElement("div",{className:"text-truncate"},i.a.createElement("span",null,B()(e.createdAt).format("YYYY-MM-DD")))))))))}))))))))))})))),i.a.createElement(y.a,{isOpen:this.state.showModal,toggle:this.toggleModal,className:"modal-dialog-centered modal-sm"},i.a.createElement(w.a,{toggle:this.toggleModal,className:"bg-primary"},"Add Comments"),i.a.createElement(D.a,null,i.a.createElement(Y.default,{toggleModal:this.toggleModal,postId:this.state.postId,userInfo:this.state.userdata,addComment:this.addComment})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(e.categories&&e.categories.length&&e.categories!==t.categories){var n=e.categories.map((function(e){return{label:e.categoryName,value:e._id,color:"#7367f0"}}));Object.assign(a,{categories:n})}if(e.tags&&e.tags.length&&e.tags!==t.tags){var r=e.tags.map((function(e){return{label:e.tagName,value:e._id}}));Object.assign(a,{tags:r})}return 0!==Object.keys(a).length?a:null}}]),a}(i.a.Component));t.default=Object(U.b)((function(e){return{categories:e.global.categories,tags:e.global.tags,userInfo:e.auth.login.userInfo}}))(H)}}]);
//# sourceMappingURL=11.44f8ecee.chunk.js.map